<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>{% block title %}Anime Watchlist{% endblock %}</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap"
      rel="stylesheet"
    />
    <style>
      body {
        font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto,
          Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
      }
    </style>
  </head>
  <body class="bg-slate-900 text-slate-100 min-h-screen">
    <header class="fixed top-0 w-full bg-slate-800/70 backdrop-blur z-30">
      <div
        class="max-w-6xl mx-auto px-4 py-3 flex items-center justify-between"
      >
        <!-- LEFT SIDE -->
        <div class="flex items-center gap-6">
          <a
            href="{{ url_for('home') }}"
            class="text-xl font-bold text-cyan-300"
            >Zoro.to</a
          >
          <a class="hover:text-cyan-300" href="{{ url_for('browse') }}"
            >Browse</a
          >
          {% if current_user %}
          <a class="hover:text-cyan-300" href="{{ url_for('watchlist') }}"
            >My Watchlist</a
          >
          <a
            class="hover:text-cyan-300"
            href="{{ url_for('profile', username=current_user) }}"
            >Profile</a
          >
          {% endif %}
        </div>

        <!-- RIGHT SIDE -->
        <div class="flex items-center gap-3">
          {% if current_user %}
          <form action="{{ url_for('logout') }}" method="post" class="inline">
            <button
              type="submit"
              class="bg-cyan-500 hover:bg-cyan-400 text-slate-900 font-semibold px-3 py-1 rounded"
            >
              Logout
            </button>
          </form>
          {% else %}
          <a
            class="bg-cyan-500 hover:bg-cyan-400 text-slate-900 font-semibold px-3 py-1 rounded"
            href="{{ url_for('login') }}"
            >Login</a
          >
          <a
            class="bg-cyan-500 hover:bg-cyan-400 text-slate-900 font-semibold px-3 py-1 rounded"
            href="{{ url_for('register') }}"
            >Register</a
          >
          {% endif %}
        </div>
      </div>
    </header>
    <main class="max-w-6xl mx-auto px-4 pt-24 pb-6">
      {% with messages = get_flashed_messages(with_categories=true) %} {% if
      messages %}
      <div class="space-y-2 mb-4">
        {% for category, message in messages %}
        <div
          class="px-4 py-2 rounded {{ 'bg-emerald-600/30 border border-emerald-500/40' if category=='success' else '' }} {{ 'bg-yellow-600/30 border border-yellow-500/40' if category=='warning' else '' }} {{ 'bg-red-600/30 border border-red-500/40' if category=='danger' else '' }} {{ 'bg-slate-700/60 border border-slate-600/60' if category not in ['success','warning','danger'] else '' }}"
        >
          {{ message }}
        </div>
        {% endfor %}
      </div>
      {% endif %} {% endwith %} {% block content %}{% endblock %}
    </main>
    <footer class="text-center text-slate-400 py-8">
      <div>Â© {{ 2025 }} Zoro.to</div>
    </footer>
  </body>
</html>
